var ac={rand:function(){return ac.str.cast(Math.random())},randHex:function(){var a=ac.rand().split(".");return sprintf("%x",a[1])},hidden:function(a){return"none"==$J(a).css("display")},empty:function(a){for(var c in a)if("function"!=typeof a[c])return!1;return!0},redirect:function(a){a.match(/^http/)||(a=ac_js_site.p_link+"/"+a);window.location.href=a},refresh:function(){window.location.reload(!0)},highlight:function(a){a.focus();a.select()},distance:function(a,c){return Math.sqrt(Math.pow(a,2)+
Math.pow(c,2))},uniqid:function(){return ac.encodeBase64(Math.random().toString()).replace(/(\+|\/|=)+/,"")},clickToEdit:function(a,c,d){var e=ac.uniqid();c=c||function(){};d=d||{};$J(document).on("click",a,function(a){d.allowPropagation||a.stopPropagation();a=$J(this);a.hasClass("click-to-edit")||(a.addClass("click-to-edit "+e).data("click-to-edit-original",a.html()),!1!==d.select_all&&document.execCommand("selectAll",!1,null))});$J(document).on("keypress",a,function(a){if(13==a.which){var d=$J(this);
a.preventDefault();d.blur();c(d)}});$J(document).on("click",function(a){_.each($J(".click-to-edit."+e),function(a){a=$J(a);a.removeClass("click-to-edit "+e);c(a)})})},decodeBase64:function(a){return window.atob?decodeURIComponent(window.atob(a)):decodeURIComponent(ac._decodeBase64(a))},encodeBase64:function(a){return window.btoa?window.btoa(encodeURIComponent(a)):ac._encodeBase64(encodeURIComponent(a))},var:function(a,c){var d={};"string"==typeof a?d[a]=c:"object"==typeof a&&(d=a);$J.each(d,function(a,
c){for(var e=$J("*[var='"+ac.str.escape(a)+"']"),f=0,l;f<e.length;f++){var k=$J(e[f]);l="function"==typeof c?c(a,d):c;if(k.is("select"))k.val(l);else if(k.is("input"))switch(k.prop("type")){case "radio":k.val()==l&&k.prop("checked",!0);break;case "checkbox":k.val()==l?k.prop("checked",!0):k.prop("checked",!1);break;default:k.val(l)}else k.html(l)}})},droparea:function(a,c,d,e){var f=e.init||function(){},g=e.start||function(){},h=e.complete||function(a,c){};e=e.error||function(a){};$J(a).attr({"data-post":"old-imageup-dnd.php",
"data-width":c,"data-height":d,name:"dropfile"}).droparea({instructions:"",over:"",init:f,start:g,complete:h,error:e})},inherit:function(a){var c={};a&&(c.__proto__=a);return c},automodal:function(a,c){a.title||(a.title="[Please use the title property to set a title for this modal]");a.body||(a.body="");a.oklabel||(a.oklabel=strOK);a.okclass||(a.okclass="green");a.closelabel||(a.closelabel=a.hideok?strClose:strCancel);a.classes||(a.classes="");a.dont_blur||$J(document.activeElement).blur();c=c||function(){};
$J("#ac_automodal").remove();var d=""+('<div id="ac_automodal" class="modal '+(a.condor?"modal--condor ":"")+"show "+a.classes+'" style="display:none;">');d=d+'<div class="modal-dialog"><div class="modal-content"><div class="modal-header">'+('<a href="#" onclick="return false;" class="close_x" data-dismiss="modal">'+ac.icon("x",{pos:"middle",size:"medium"})+"</a>");d+=sprintf("<h3>%s</h3>",a.title);d=d+'</div><form><div class="modal-body">'+(a.condor?a.body:'<div class="body">'+a.body+"</div>");if(a.inputs)for(var e=
0;e<a.inputs.length;e++){var f=a.inputs[e];f.label=f.label||"";f.type=f.type||"text";f.name=f.name||"name"+e;f.className=f.className||"";f.default=f.default||"";f.attrs=f.attrs||"";f.placeholder=f.placeholder||"";f.placeholder&&(f.placeholder=' placeholder="'+f.placeholder+'"');switch(f.type){case "select":case "select-multiple":f.options=f.options||[];d+=sprintf('<fieldset class="select-options %s">',f.className);d+=sprintf("<label>%s</label>",f.label?f.label:"");d+=sprintf('<select name="%s" %s>',
f.name,f.type,"select-multiple"==f.type?"multiple":"");for(e=0;e<f.options.length;e++)d+=sprintf('<option %s value="%s">%s</option>',f.options[e].value==f.default?"selected":"",f.options[e].value,f.options[e].label);d+="</select>";d+="</fieldset>";break;case "textarea":f.rows=f.rows||8;f.cols=f.cols||40;d+=sprintf('<fieldset class="input %s">',f.className);d+=sprintf("<label>%s</label>",f.label?f.label:"");d+=sprintf('<textarea name="%s" rows="%d" cols="%d" %s>%s</textarea>',f.name,f.rows,f.cols,
f.attrs,f.default);d+="</fieldset>";break;default:d+=sprintf('<fieldset class="input %s">',f.className),d+=sprintf("<label>%s</label>",f.label?f.label:""),d+=sprintf('<input name="%s" type="%s" value="%s"%s>',f.name,f.type,f.default,f.placeholder),d+="</fieldset>"}}d+='</div><div class="modal-footer">';a.footer&&(d+=a.footer);d+=a.condor?sprintf('<camp-button variant="outline" data-dismiss="modal">%s</camp-button>',a.closelabel):sprintf('<input type="button" value="%s" data-dismiss="modal" class="ac_button cancel" />',
a.closelabel);a.hideok||(d+=a.condor?sprintf('<camp-button class="ml-400 ok %s">%s</camp-button>',a.okclass,a.oklabel):sprintf('<input type="button" value="%s" class="ac_button blue ok %s" />',a.oklabel,a.okclass));d+="</div></form></div></div></div>";$J("body").append(d);ac.wait(.1,function(){$J("#ac_automodal input[type=text]").on("keypress",function(a){13==a.which&&(a.preventDefault(),$J("#ac_automodal .ok").click())});$J("#ac_automodal .ok").off("click").on("click",function(c){if(a.ok){var d=
{};$J("#ac_automodal fieldset input, #ac_automodal fieldset textarea, #ac_automodal fieldset select").each(function(a,c){d[c.name]=c.value});$J("#ac_automodal div.option-ui").each(function(){d[[$J(this).data("name")]]=$J(".selected",this).data("val")});if(!1===a.ok(d))return}$J("#ac_automodal").modal("hide")});if(a.cancel)$J("#ac_automodal .cancel").off("click").on("click",function(c){a.cancel()});$J("#ac_automodal").modal("show");c()})},modalpool:{}};ac.modalpool.pool=[];ac.modalpool.add=function(a){ac.modalpool.pool.push(a)};
ac.modalpool.show=function(){ac.modalpool.pool.length&&($J(ac.modalpool.pool[0]).modal("show"),ac.modalpool.pool.shift(),ac.modalpool.show())};ac.loadingTimer=0;
ac.loadingShow=function(a,c,d){a=a||0;c=c||function(){};d=d||strLoading;0==$J(".ac.loader").length?"undefined"==typeof ac_branded||ac_branded?$J("body").append('<div class="ac loader"><div class="loading_bar"></div><div id="aclogo"><div id="ac-symbol" class="ac-icon-ac"></div></div><div class="text">'+d+'</div><div class="loadoverlay"></div></div>'):$J("body").append('<div class="ac loader"><div class="loading_bar"></div><div class="text">'+d+'</div><div class="loadoverlay"></div></div>'):$J(".ac.loader .text").html(d);
a&&(ac.loadingTimer=ac.wait(a,function(){ac.loadingHide();c()}));$J(".ac.loader").show()};ac.loadingShowNew=function(){0==$J(".ac.loader").length&&$J("body").append('<div class="ac loader"><div class="loading_bar" style="display: flex;justify-content: center;border: 0;"><img src="/campaign/stripo/icons/loading-indicator.svg" width="32"></div><div class="loadoverlay" style="background: rgb(255 255 255 / 90%);"></div></div>')};ac.loadingHide=function(){$J(".ac.loader").hide();0<ac.loadingTimer&&ac.stop(ac.loadingTimer)};
ac.loadingUpdate=function(a){$J(".ac.loader .text").html(a)};ac._loggingEvents=!1;ac._logEventsDebugSelector=null;ac._logEventsDebugType=null;ac.logEvents=function(a){ac._loggingEvents=a};ac.logEventsDebugger=function(a,c){ac._logEventsDebugType=a;ac._logEventsDebugSelector=c};ac.logEvent=function(a,c,d){if(ac._loggingEvents&&(console.log("Event ["+c.type+"] matches ["+a+"], this:",d,"event data:",c),c.type==ac._logEventsDebugType&&a==ac._logEventsDebugSelector))debugger};ac.task_to_delete={};ac.ace={};ac.ace.getValue=function(a){"string"==typeof a&&(a=ace.edit(a));return a.getValue()};ac.ace.setValue=function(a,c){"string"==typeof a&&(a=ace.edit(a));return a.getSession().setValue(c)};(function(a){var c="";ac.apiSetToken=function(a){c=a};ac.api={};ac.api._history=[];ac.api.historyContains=function(a){for(var c=0;c<ac.api._history.length;c++)if(ac.api._history[c].request.match(a))return!0};ac.api.historyRecord=function(a,c,f){ac.api._history.push({request:a,func:c,data:f})};ac.api.callback=function(a){return function(c){c&&c.error?console_log(c.error):a(c)}};ac.api.error=function(c,e){var d=!1,g=!1;c||(c={error:"Error: Unrecognized response received."});!c.message&&c.error&&(c.message=
c.error,d=!0);if(c.message){var h=c.message;d&&c.reauth&&(g=!0);g&&window.location.reload(!0);"alert"==e?alert(h):e&&a(e).length?a(e).html(h):console_log(h)}};ac.post=function(d,e,f,g){var h;g=g||"json";c&&(e._token=c);"function"===typeof getCSRFToken&&(e._csrf=getCSRFToken());"/"==d[0]?a.post(h=plink+"/api/2"+d+"?rand="+ac.str.cast(Math.random()),ac.clean(e),f,g):a.post(h=apipath+"?jq=1&f="+d+"&rand="+ac.str.cast(Math.random()),ac.clean(e),f,g);ac.api.historyRecord(h,d,e)};ac.get=function(d,e,f,
g){var h;for(h in e)e[h]=encodeURIComponent(e[h]);g=g||"json";if("/"==d[0]){var l=plink+"/api/2"+d+"?rand="+ac.str.cast(Math.random());c&&(e._token=c);for(h in e)l+="&"+encodeURIComponent(h)+"="+ac.str.cast(e[h])}else for(l=apipath+"?jq=1&f="+d+"&rand="+ac.str.cast(Math.random()),e=e||[],h=0;h<e.length;h++)l+="&p[]="+ac.str.cast(e[h]);a.get(l,f,g);ac.api.historyRecord(l,d,e)};ac.verb=function(d,e,f,g,h){var l=plink+"/api/2"+e+"?rand="+ac.str.cast(Math.random());c&&(f._token=c);a.ajax(l,{data:f,type:d,
dataType:h||"json",success:g||function(){}});ac.api.historyRecord(l,e,f)};ac.prepare=function(c){var d={},f={};c=a(c);if(!c)return d;1==c.length&&"FORM"!=c[0].tagName&&(c=a("<form></form>").html(c.html()));a.each(c.serializeArray(),function(a,c){c.name.match(/\[]$/)?(f[c.name]||(f[c.name]=0),d[c.name.replace(/\[]$/,sprintf("[%d]",f[c.name]))]=c.value,f[c.name]++):d[c.name]=c.value});return d};ac.clean=function(a){for(var c in a)"object"==typeof a[c]&&a[c]&&(a[c]=ac.clean(a[c])),null==a[c]&&(a[c]=
"");return a};ac.graph=function(c,e,f){"function"==typeof e&&"undefined"==typeof f&&(f=e,e={});c=plink+"/admin/graph.php?json=1&g="+c+"&rand="+ac.str.cast(Math.random());e=e||{};for(var d in e)"function"!=typeof e[d]&&(c+="&"+ac.str.cast(d)+"="+ac.str.cast(e[d]));a.get(c,f,"json")};ac.row=function(a,c,f){c=parseInt(c,10);isNaN(c)||"function"==typeof f&&ac.get(a+"."+a+"_select_row",[c],f)}})(jQuery);ac.array={};ac.array.filter=function(a,c){for(var d=[],e=0;e<a.length;e++)c(a[e])&&d.push(a[e]);return d};ac.array.map=function(a,c){for(var d=[],e=0;e<a.length;e++)d.push(c(a[e]));return d};ac.array.reduce=function(a,c,d){if(0<a.length){c=a[e];for(var e=1;e<a.length;e++)c=d(c,a[e])}return c};ac.array.unique=function(a){var c="",d={};for(c in a)if(a.hasOwnProperty(c)){var e=a[c];a:{var f=e;var g=d,h="";for(h in g)if(g.hasOwnProperty(h)&&g[h]+""===f+""){f=h;break a}f=!1}!1===f&&(d[c]=e)}return d};(function(){function a(a,c){return e[a]<<c&255}function c(a,c){return e[a]>>c&255}var d={0:"A",1:"B",2:"C",3:"D",4:"E",5:"F",6:"G",7:"H",8:"I",9:"J",10:"K",11:"L",12:"M",13:"N",14:"O",15:"P",16:"Q",17:"R",18:"S",19:"T",20:"U",21:"V",22:"W",23:"X",24:"Y",25:"Z",26:"a",27:"b",28:"c",29:"d",30:"e",31:"f",32:"g",33:"h",34:"i",35:"j",36:"k",37:"l",38:"m",39:"n",40:"o",41:"p",42:"q",43:"r",44:"s",45:"t",46:"u",47:"v",48:"w",49:"x",50:"y",51:"z",52:"0",53:"1",54:"2",55:"3",56:"4",57:"5",58:"6",59:"7",60:"8",
61:"9",62:"+",63:"/"};ac._encodeBase64=function(a){var c="",e,f;for(f=0;f<a.length;f+=3){var k=d[a.charCodeAt(f+0)>>2&63];var m=e="=";var n=f+1<a.length?d[a.charCodeAt(f+0)<<4&63|a.charCodeAt(f+1)>>4&63]:d[a.charCodeAt(f+0)<<4&63];f+2<a.length?(e=d[a.charCodeAt(f+1)<<2&63|a.charCodeAt(f+2)>>6&63],m=d[a.charCodeAt(f+2)<<0&63]):f+1<a.length&&(e=d[a.charCodeAt(f+1)<<2&63]);c+=k+n+e+m}return c};var e={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,
W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"-":62,"!":63,"=":0};ac._decodeBase64=function(d){var e="",f;if(0!=d.length%4)return d;for(f=0;f<d.length;f+=4){e+=String.fromCharCode(a(d.charAt(f+0),2)|c(d.charAt(f+1),4));if("_"==d.charAt(f+2))break;e+=String.fromCharCode(a(d.charAt(f+1),4)|c(d.charAt(f+2),2));if("_"==d.charAt(f+3))break;e+=String.fromCharCode(a(d.charAt(f+
2),6)|c(d.charAt(f+3),0))}return e}})();ac.browser={};
var BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version";this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(a){for(var c=0;c<a.length;c++){var d=a[c].string,e=a[c].prop;this.versionSearchString=a[c].versionSearch||a[c].identity;if(d){if(-1!=d.indexOf(a[c].subString))return a[c].identity}else if(e)return a[c].identity}},searchVersion:function(a){var c=
a.indexOf(this.versionSearchString);if(-1!=c)return parseFloat(a.substring(c+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari"},{prop:window.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},
{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,
subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};ac.browser.ident=function(){var a=BrowserDetect.browser,c=BrowserDetect.version;"Explorer"!=a&&ac.browser.isIE()&&(a="Explorer");"Explorer"==a&&"7"==c&&document.documentMode&&(c="8");return a+" "+c};ac.browser.match=function(a){return ac.browser.ident().match(a)};ac.browser.os=function(){return BrowserDetect.OS};
ac.browser.isIE=function(){return navigator&&navigator.userAgent&&(navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/Edge\//))&&!navigator.userAgent.match(/Opera/)};ac.browser.isChrome=function(){return ac.browser.ident().match(/^Chrome/)};ac.browser.isSafari=function(){return ac.browser.ident().match(/^Safari/)};BrowserDetect.init();ac.build_counter="d8407f2714035f14";ac.chart={};ac.chart.libraryLoaded=!1;ac.chart.configs={};ac.chart.charts={};ac.chart.delayed_charts=[];ac.chart.init=function(){google.load("visualization","1",{packages:["corechart","geochart"]});ac.chart.resize_charts||(ac.chart.resize_charts=[]);$J(window).resize(ac.chart.resizeCharts)};ac.chart.drawDelayed=function(){ac.chart.libraryLoaded=!0;for(var a=0;a<ac.chart.delayed_charts.length;a++){var c=ac.chart.delayed_charts[a];ac.chart.draw(c.type,c.objId,c.rows,c.options,c.columns)}};
ac.chart.draw=function(a,c,d,e,f){if(!0!==ac.chart.libraryLoaded)ac.chart.delayed_charts.push({type:a,objId:c,rows:d,options:e,columns:f});else{switch(a){case "bar":a=ac.chart.bar(c,d,e,f);break;case "pie":a=ac.chart.pie(c,d,e,f);break;case "map":case "geo":a=ac.chart.geo(c,d,e,f);break;default:a=ac.chart.line(c,d,e,f)}return ac.chart.charts[c]=a}};
ac.chart.data=function(a,c,d){for(var e=new google.visualization.DataTable,f=0;f<d.length;f++)e.addColumn(d[f].type,d[f].name),f&&c.tooltip_column&&e.addColumn({type:"string",role:"tooltip"});e.addRows(a);return e};
ac.chart.line=function(a,c,d,e){c=ac.chart.beautifyLabels(c);var f=c.spacing;c=c.rows;d.hAxis||(d.hAxis={});d.hAxis.showTextEvery=f;f="undefined"!=typeof d.title?d.title:"Value";var g=d.graphs?d.graphs:1;if(!e){e=[{type:"string",name:"Day"}];for(var h=0;h<g;h++)e.push({type:"number",name:f})}c=ac.chart.data(c,d,e);e=a;"string"==typeof a&&(e=document.getElementById(a));a=new google.visualization.AreaChart(e);a.draw(c,d);ac.chart.fixResize(e,google.visualization.AreaChart,c,d);return a};
ac.chart.bar=function(a,c,d,e){c=ac.chart.beautifyLabels(c);var f=c.spacing;c=c.rows;d.hAxis||(d.hAxis={});d.hAxis.showTextEvery=f;f="undefined"!=typeof d.title?d.title:"Value";var g=d.graphs?d.graphs:1;if(!e){e=[{type:"string",name:"Day"}];for(var h=0;h<g;h++)e.push({type:"number",name:f})}c=ac.chart.data(c,d,e);e=a;"string"==typeof a&&(e=document.getElementById(a));a=new google.visualization.ColumnChart(e);a.draw(c,d);ac.chart.fixResize(e,google.visualization.ColumnChart,c,d);return a};
ac.chart.pie=function(a,c,d,e){var f="undefined"!=typeof d.title?d.title:"Value";e=e||[{type:"string",name:"Action"},{type:"number",name:f}];c=ac.chart.data(c,d,e);e=a;"string"==typeof a&&(e=document.getElementById(a));a=new google.visualization.PieChart(e);a.draw(c,d);ac.chart.fixResize(e,google.visualization.PieChart,c,d);return a};
ac.chart.geo=function(a,c,d,e){e=e||[{type:"number",name:"Latitude"},{type:"number",name:"Longitude"},{type:"string",name:"Action"}];c=ac.chart.data(c,d,e);e=a;"string"==typeof a&&(e=document.getElementById(a));a=new google.visualization.GeoChart(e);a.draw(c,d);ac.chart.fixResize(e,google.visualization.GeoChart,c,d);return a};
ac.chart.configs.small=function(){return{width:90,height:26,min:1,titlePosition:"none",legend:"none",chartArea:{left:0,top:0,width:"100%",height:"100%"},axisTitlesPosition:"none",lineWidth:1,pointSize:0,colors:["#52aed8","red","#004411"],vAxis:{gridlines:{color:"none",size:0},baseline:0,baselineColor:"#cbe7f3"},hAxis:{gridlines:{color:"none",size:0},baseline:0,baselineColor:"#fff"},tooltip:"none",backgroundColor:{fill:"none"},enableInteractivity:!1}};
ac.chart.configs.large=function(){return{width:"100%",height:75,titlePosition:"none",legend:"none",chartArea:{left:15,top:15,right:15,bottom:0,width:"99%",height:230},axisTitlesPosition:"none",lineWidth:4,areaOpacity:".1",pointSize:7,colors:["#5085c5","red","#004411"],backgroundColor:{fill:"none"},vAxis:{gridlines:{count:4,color:"#efefef"},textStyle:{color:"#999",fontName:"Helvetica",fontSize:"11"},color:"#efefef",baselineColor:"#ddd",textPosition:"in",viewWindowMode:"explicit",viewWindow:{min:0}},
hAxis:{gridlines:{color:"#efefef"},textStyle:{color:"#999",fontName:"Helvetica",fontSize:"11"},showTextEvery:"4",minValue:0,allowContainerBoundaryTextCufoff:!0,maxTextLines:1},tooltip:{textStyle:{color:"#999",fontName:"Helvetica",fontSize:"11"}},focusTarget:"category",enableInteractivity:!1}};ac.chart.configs.geo_world=function(){return{}};ac.chart.fixResize=function(a,c,d,e){ac.chart.resize_charts||(ac.chart.resize_charts=[]);ac.chart.resize_charts.push({container:a,chart:c,data:d,options:e})};
ac.chart.resizeCharts=function(){for(var a=0;a<ac.chart.resize_charts.length;a++)$J(ac.chart.resize_charts[a].container).html(""),(new ac.chart.resize_charts[a].chart(ac.chart.resize_charts[a].container)).draw(ac.chart.resize_charts[a].data,ac.chart.resize_charts[a].options)};ac.chart.beautifyLabels=function(a,c){c=c||4;var d=a.length;return{rows:a,spacing:c+2>d?1:Math.round(d/(c+2))}};ac.ck={};ac.ck.removeHash=function(a){return"#"==a[0]?a.substr(1):a};ac.ck.available=function(){return"undefined"!=typeof CKEDITOR};ac.ck.withFocus=function(a){ac.browser.match(/^Explorer/)&&$J(a).prop("contenteditable","true")};ac.ck.withBlur=function(a){ac.browser.match(/^Explorer/)&&$J(a).prop("contenteditable","false")};ac.ck.selectedText=function(a){return ac.ck.available()?CKEDITOR.instances[ac.ck.removeHash(a)].getSelection().getSelectedText():""};
ac.ck.destroyAll=function(){$J.each(CKEDITOR.instances,function(a,c){c.destroy()})};ac.ck.getData=function(a){return ac.ck.isInline(a)?CKEDITOR.instances[ac.ck.removeHash(a)].getData():$J("#"+ac.ck.removeHash(a)).html()};ac.ck.isInline=function(a){return ac.ck.available()&&"undefined"!=typeof CKEDITOR.instances[ac.ck.removeHash(a)]};
ac.ck.inlineStart=function(a,c,d){ac.ck.available()&&(CKEDITOR.dtd.$editable.td||(CKEDITOR.dtd.$editable.td=1),a=ac.ck.removeHash(a),c=c||{},c.language=_locale_ckeditor,CKEDITOR.instances[a]||(CKEDITOR.inline(a,c),$J(a).data("ck-turned-on",1),CKEDITOR.instances[a].on("instanceReady",function(a){var c=a.editor.element.$;c&&(c.title="");d&&d(a)})))};ac.ck.inlineStop=function(a){ac.ck.available()&&($J(a).blur(),CKEDITOR.instances[ac.ck.removeHash(a)]&&CKEDITOR.instances[ac.ck.removeHash(a)].destroy())};
ac.ck.insertHtml=function(a,c){ac.ck.available()&&(a=ac.ck.removeHash(a),CKEDITOR.instances[a]&&CKEDITOR.instances[a].insertHtml(c))};ac.ck.insertText=function(a,c){ac.ck.available()&&(a=ac.ck.removeHash(a),CKEDITOR.instances[a]&&CKEDITOR.instances[a].insertText(c))};ac.ck.selectAll=function(a){if(ac.ck.available()){a=CKEDITOR.instances[ac.ck.removeHash(a)];var c=a.createRange();c.selectNodeContents(a.editable());c.select()}};
ac.ck.buttonForceLabel=function(a){ac.ck.available()&&(a=".cke_button__"+a.toLowerCase(),$J("style:first").append(".cke_button_icon"+a+"_icon {display:none;}").append(".cke_button_label"+a+"_label {display:inline;}"))};ac.dom={};ac.domEffectiveCss=function(a,c,d,e,f){a=$J(a);c=$J(c);e=e||"";f=f||[];if(!a.length||!c.length)return f;var g=c.css(d);g.substr(0,e.length)!=e&&f.push(g);return a[0]==c[0]?f:ac.domEffectiveCss(a,c.parent(),d,e,f)};ac.dom.everyChild=function(a,c){c($J(a));$J.each($J(a).children(),function(){ac.dom.everyChild(this,c)})};
ac.dom.getBgColor=function(a){for(var c=ac.dom.getStyle(a,"background-color");!c||"transparent"==c||"#000000"==c||"rgba(0, 0, 0, 0)"==c;)a==document.body?c="#fff":(a=a.parentNode,c=ac.dom.getStyle(a,"background-color"));return c};ac.dom.getColor=function(a){for(var c=ac.dom.getStyle(a,"color");!c||"transparent"==c||"#000000"==c||"rgba(0, 0, 0, 0)"==c;)a==document.body?c="#000":(a=a.parentNode,c=ac.dom.getStyle(a,"color"));return c};
ac.dom.convert2camelcase=function(a){for(var c=/-([a-z])/;c.test(a);a=a.replace(c,RegExp.$1.toUpperCase()));return a};ac.dom.getStyle=function(a,c){var d=null;if(document.defaultView&&document.defaultView.getComputedStyle){var e=document.defaultView.getComputedStyle(a,null);e&&e.getPropertyValue&&(d=e.getPropertyValue(c))}!d&&a.currentStyle&&(d=a.currentStyle[ac.dom.convert2camelcase(c)]);return d};
ac.dom.colorIsTransparent=function(a){return(a=a.toLowerCase())?"transparent"==a?!0:"rgba"==a.substr(0,4)?(a=/(.*?)rgba?\((\d+), (\d+), (\d+)(, [0-9.]+)?\)/.exec(a),a[5]?1!=parseFloat(a[5].substr(2)):!1):!1:!0};ac.dom.getContrastYIQ=function(a,c,d){c=c||"#333333";d=d||"#FAFAFA";"#"==a[0]&&(a=a.substr(1));var e=parseInt(a.substr(0,2),16),f=parseInt(a.substr(2,2),16);a=parseInt(a.substr(4,2),16);return 128<=(299*e+587*f+114*a)/1E3?c:d};
ac.dom.colorToHex=function(a){if("#"===a.substr(0,1))return 4==a.length?"#"+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2)+a.charAt(3)+a.charAt(3):a;if("rgb"===a.substr(0,3)){a=/(.*?)rgba?\((\d+), (\d+), (\d+)(, [0-9.]+)?\)/.exec(a);var c=parseInt(a[2],10).toString(16),d=parseInt(a[3],10).toString(16),e=parseInt(a[4],10).toString(16);return a[1]+"#"+((1==c.length?"0"+c:c)+(1==d.length?"0"+d:d)+(1==e.length?"0"+e:e))}return ac.dom.colorNameToHex(a)};
ac.dom.colorHexToRGB=function(a){a="#"==a.charAt(0)?a.substring(1,7):a;var c={};c.r=parseInt(a.substring(0,2),16);c.g=parseInt(a.substring(2,4),16);c.b=parseInt(a.substring(4,6),16);return c};
ac.dom.colorNameToHex=function(a){var c={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",
darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",
goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",
lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",
olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",
slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};return"undefined"!=typeof c[a.toLowerCase()]?c[a.toLowerCase()]:!1};
ac.dom.getCaretPosition=function(a){var c=0;if(document.selection)a.focus(),c=document.selection.createRange(),c.moveStart("character",-a.value.length),c=c.text.length;else if(a.selectionStart||"0"==a.selectionStart)c=a.selectionStart;return c};ac.dom.setCaretPosition=function(a,c){a.setSelectionRange?(a.focus(),a.setSelectionRange(c,c)):a.createTextRange&&(a=a.createTextRange(),a.collapse(!0),a.moveEnd("character",c),a.moveStart("character",c),a.select())};
ac.dom.checkboxValues=function(a){a.match(":checked")||(a+=":checked");var c=[];$J(a).each(function(a){c.push($J(this).val())});return c};var acMousePos={};ac.dom.overlayFromScrollInit=function(){$J(document).mousemove(function(a){acMousePos.x=a.pageX;acMousePos.y=a.pageY})};
ac.dom.overlayFromScroll=function(a,c,d,e,f){d=d||"id";e=e||"hover";f=f||!1;var g=function(a,c,d){var e=c.offset(),f=a.outerWidth(),g=a.outerHeight(),h=c.outerWidth();c=c.outerHeight();var l=e.left,k=e.top;a.hasClass("placement-above")?e.top<g&&!d?(a.removeClass("placement-above").addClass("placement-below"),l=(e.left+h)/2,k=e.top+c+g):k-=g:a.hasClass("placement-right")?e.left+h+f>$J(document).width()&&!d?(a.removeClass("placement-right").addClass("placement-left"),l=e.left-f):l=e.left+h:a.hasClass("placement-below")?
e.top<g+e.top&&!d?(a.removeClass("placement-below").addClass("placement-above"),l=(e.left+h)/2,k-=g):k=e.top+c:e.left<f&&!d?(a.removeClass("placement-left").addClass("placement-right"),l=e.left+h):l-=f;a.css({top:k-15+"px",left:l})};$J(document).ready(function(){$J("body").append($J(a))});switch(e){case "click":$J(c).click(function(){var c=$J(this),e=$J(a+"[data-"+d+"='"+c.attr("data-"+d)+"']");g(e,c,f)});break;default:$J(c).hover(function(){var c=$J(this),e=$J(a+"[data-"+d+"='"+c.attr("data-"+d)+
"']");g(e,c,f);$J(a).hide();e.show()},function(){var c=$J(this);c=$J(a+"[data-"+d+"='"+c.attr("data-"+d)+"']");$J(a).filter(function(){return $J(this).is(":hover")}).length||c.hide()}),$J(a).hover(function(){},function(){$J(this).hide()})}};ac.error={};ac.error.refstack=[];ac.error.counter=0;ac.error.register=function(a,c){ac.error.messages[a]=c};ac.error.pushref=function(a){ac.error.refstack.push(a)};ac.error.clear=function(){$J(".error").remove()};ac.error.html=function(a){return sprintf('<div class="notify error" id="error-%s">%s</div>',this.counter++,a)};ac.error.showref=function(a){0<ac.error.refstack.length&&$J(ac.error.refstack[ac.error.refstack.length-1]).append(this.html(a))};ac.icon=function(a,c){c=c||{};c.pos||(c.pos="");c.size||(c.size="");c.color||(c.color="");c.class_inc||(c.class_inc="");return'<span class="icon '+a+" "+c.pos+" "+c.size+" "+c.color+" "+c.class_inc+'"><svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#'+a+'" class="icon-'+a+'" fill=""></use></svg></span>'};ac.lang={};ac.lang._need_translation={};ac.lang.strings={};ac.lang.translate=function(a){if(ac.lang.strings[a])return ac.lang.strings[a];console_log("Please run the _u() function for the following string",a);ac.lang._need_translation[a]=!0;return a};ac.lang.dump=function(){var a=[],c;for(c in ac.lang._need_translation)a.push(sprintf('_u("%s");',ac.str.escape(c,'"')));console.log(a.join("\n"))};ac.lang.understand=function(a,c){ac.lang.strings[a]=c};_a=ac.lang.translate;_u=ac.lang.understand;(function(a){a.fn.liftPopover=function(c){if(c.addClass&&c.liftTo)a(document).on("shown.bs.popover",function(d){d=a(d.target);var e=d.next(".popover");e.hasClass(c.addClass)||e.addClass(c.addClass);a(c.liftTo).append(e);var f=d.offset();c.offsetLeft&&(f.left+=c.offsetLeft);c.offsetTop&&(f.top+=c.offsetTop);switch(d.data("placement")){case "left":f.top-=d.height();f.left-=e.width();break;case "right":f.top-=d.height();f.left+=d.width();break;case "above":f.top-=d.height()+e.height()}e.css({top:f.top,
left:f.left})})}})(jQuery);ac.map={maps:{},markers:{},overlays:{},intervals:{},settings:{},bounds:{},configs:{}};ac.map.initMap=function(a,c){if(!$J(a).length)return!1;this.maps[a]=new google.maps.Map($J(a)[0],c);this.bounds[a]=new google.maps.LatLngBounds;this.markers[a]={};this.overlays[a]={};this.intervals[a]={};this.settings[a]=c;return!0};
ac.map.addMarker=function(a,c,d){if("undefined"==typeof this.maps[a])return!1;var e=c.name,f=c.address,g=parseFloat(c.lat),h=parseFloat(c.lon);g=new google.maps.LatLng(g,h);this.bounds[a].extend(g);g={position:g,map:this.maps[a],animation:google.maps.Animation.DROP};"undefined"!=typeof c.icon&&(g.icon=c.icon);this.markers[a][c.id]=new google.maps.Marker(g);var l=new google.maps.InfoWindow,k="<strong>"+e+"</strong><br />"+f;"undefined"!=typeof c.extra&&c.extra&&(k+=c.extra);google.maps.event.addListener(this.markers[a][c.id],
"click",function(){l.setContent(k);l.open(ac.map.maps[a],ac.map.markers[a][c.id])});d&&this.centerMap(a);return!0};ac.map.removeMarker=function(a,c){if("undefined"==typeof this.maps[a]||"undefined"==typeof this.markers[a][c])return!1;this.markers[a][c].setMap(null)};ac.map.removeMarkers=function(a){if("undefined"==typeof this.maps[a])return!1;for(var c in this.markers[a])"function"==typeof this.markers[a][c].setMap&&this.markers[a][c].setMap(null);ac.map.removeFutures(a)};
ac.map.addFuture=function(a,c,d){if("undefined"==typeof this.maps[a])return!1;var e=function(c){return function(){ac.map.addMarker(a,c,!1)}}(c);this.intervals[a][c.id]=setTimeout(e,d);return!0};ac.map.removeFuture=function(a,c){if("undefined"==typeof this.maps[a]||"undefined"==typeof this.intervals[a][c])return!1;clearTimeout(this.intervals[a][c]);this.intervals[a][c]=null;delete this.intervals[a][c];return!0};
ac.map.removeFutures=function(a){if("undefined"==typeof this.maps[a])return!1;for(var c in this.intervals[a])ac.map.removeFuture(a,c)};ac.map.centerMap=function(a){if("undefined"==typeof this.maps[a])return!1;this.maps[a].fitBounds(this.bounds[a]);return!0};ac.map.buildAddress=function(a){var c="";ac_array_has(["US"],a.country2)?(c+=a.city,a.state&&(c+=", "+a.state),a.zip&&(c+=" "+a.zip)):(a.zip&&(c+=a.zip+" "),c+=a.city,a.state&&(c+=", "+a.state));return c+="<br />"+a.country};
ac.map.calculateBounds=function(a){for(var c=new google.maps.LatLngBounds,d=0;d<a.length;d++){var e=a[d],f=parseFloat(e.lat);e=parseFloat(e.lon);f=new google.maps.LatLng(f,e);c.extend(f)}return c};ac.map.draw_one=function(a,c,d){if(!$J(a).length)return!1;ac.map.initMap(a,d);c=ac.map.maps[a];ac.map.overlays[a].home=new CustomMarker(c.getCenter(),c)};
ac.map.draw=function(a,c,d){ac.map.initMap(a,d);ac.map.bounds[a]=ac.map.calculateBounds(c);ac.map.centerMap(a);d=0;for(var e=c.length-1;0<=e;e--){var f=c[e];d+="undefined"!=typeof f.delay?f.delay:500;ac.map.addFuture(a,f,d)}1==c.length?(zoomChangeBoundsListener=google.maps.event.addListenerOnce(ac.map.maps[a],"bounds_changed",function(a){this.getZoom()&&this.setZoom(4)}),setTimeout(function(){google.maps.event.removeListener(zoomChangeBoundsListener)},2E3)):c.length||(zoomChangeBoundsListener=google.maps.event.addListenerOnce(ac.map.maps[a],
"bounds_changed",function(a){this.getZoom()&&this.setZoom(2)}),setTimeout(function(){google.maps.event.removeListener(zoomChangeBoundsListener)},2E3))};ac.map.zoomTo=function(a,c){(new google.maps.Geocoder).geocode({address:c},function(c,e){e==google.maps.GeocoderStatus.OK&&(a.setCenter(c[0].geometry.location),a.fitBounds(c[0].geometry.viewport))})};function CustomMarker(a,c){this.latlng_=a;this.setMap(c)}
ac.map.init=function(){CustomMarker.prototype=new google.maps.OverlayView;CustomMarker.prototype.draw=function(){var a=this.div_;if(!a){a=this.div_=document.createElement("DIV");a.onclick=function(){ac_ui_anchor_set(sprintf("%s","tab_live_travel"))};a.style.border="none";a.style.position="absolute";a.style.paddingLeft="0px";a.style.cursor="pointer";var c=document.createElement("img");c.src="https://d3rxaij56vjege.cloudfront.net/media/geomarker.png";a.appendChild(c);this.getPanes().overlayImage.appendChild(a)}if(c=
this.getProjection().fromLatLngToDivPixel(this.latlng_))a.style.left=c.x-10+"px",a.style.top=c.y-23+"px"};CustomMarker.prototype.remove=function(){this.div_&&(this.div_.parentNode.removeChild(this.div_),this.div_=null)};CustomMarker.prototype.getPosition=function(){return this.latlng_}};
ac.map.configs.small=function(){return{zoom:4,zoomControl:!1,disableDefaultUI:!0,disableDoubleClickZoom:!0,draggable:!1,keyboardShortcuts:!1,mapTypeControl:!1,overviewMapControl:!1,rotateControl:!1,scaleControl:!1,panControl:!1,scrollwheel:!1,mapTypeId:google.maps.MapTypeId.ROADMAP}};ac.map.configs.large=function(){return{disableDefaultUI:!1,keyboardShortcuts:!1,mapTypeId:google.maps.MapTypeId.ROADMAP}};ac.obj={};ac.obj.scopy=function(a){var c={},d;for(d in a)"function"!=typeof a[d]&&(c[d]=a[d]);return c};ac.scroll={};ac.scroll.more=function(a,c){c=c||.8;a=$J(a);if(0==a.scrollTop())return!1;var d=a[0].scrollHeight;return(a.scrollTop()+a.height())/d>=c};ac.scroll.intoView=function(a){if(!a.length||a.is(":hidden"))return!1;var c=$J(window).scrollTop(),d=c+$J(window).height(),e=$J(a).offset().top;return e+$J(a).height()>=c&&e<=d};ac.scroll.to=function(a,c){return ac.scroll.to_elem(a,$J("body"),c)};
ac.scroll.to_elem=function(a,c,d){d=$J.extend({offsetTop:200,duration:1E3,callback:function(){}},d);a=$J(a);a.length&&c.stop().animate({scrollTop:a.offset().top-d.offsetTop},d.duration,d.callback)};ac.scroll.ifOutOfView=function(a,c,d){if(ac.scroll.intoParentView(a,c))return d.callback&&d.callback(),!1;ac.scroll.to_elem_parent(a,c,d);return!0};
ac.scroll.intoParentView=function(a,c){if(!a.length||!c.length||a.is(":hidden")||c.is(":hidden"))return!1;var d=$J(c).position(),e=$J(c).height();c=$J(c).width();var f=$J(a).offset().top-d.top,g=f+$J(a).height();d=$J(a).offset().left-d.left;a=d+$J(a).width();return 0<=g&&f<=e&&0<=a&&d<=c};
ac.scroll.to_elem_parent=function(a,c,d){d=$J.extend({offsetTop:200,offsetLeft:200,scrollLeft:!1,duration:1E3,callback:function(){}},d);a=$J(a);if(a.length){var e={scrollTop:a.offset().top-d.offsetTop+$J(c).scrollTop()};d.scrollLeft&&(e.scrollLeft=a.offset().left-d.offsetLeft+$J(c).scrollLeft());c.stop().animate(e,d.duration,d.callback)}};ac.str={};ac.str.cast=function(a,c){"number"!=typeof a&&(a=a||c||"");return a.toString()};ac.str.ltrim=function(a,c){a=this.cast(a);c=this.cast(c,"\\s\\u200B-\\u200D\\uFEFF");return a.replace(new RegExp("^["+c+"]+","g"),"")};ac.str.rtrim=function(a,c){a=this.cast(a);c=this.cast(c,"\\s\\u200B-\\u200D\\uFEFF");return a.replace(new RegExp("["+c+"]+$","g"),"")};ac.str.trim=function(a,c){return this.ltrim(this.rtrim(a,c),c)};
ac.str.noscheme=function(a,c){return c?a.replace(/^[^:]*:\/\//,""):a.replace(/^[^:]*:/,"")};ac.str.escape=function(a,c){var d="";c=c||"'";for(var e=0;e<a.length;e++)d=a[e]==c?d+("\\"+a[e]):d+a[e];return d};ac.str.escape_html=function(a){var c="";a=ac.str.cast(a);for(var d=0;d<a.length;d++)c="<"==a[d]?c+"&lt;":'"'==a[d]?c+"&quot;":c+a[d];return c};ac.str.interpose=function(a,c,d){return 0>c||c>a.length?a:a.substr(0,c)+d+a.substr(c,a.length-c)};
ac.str.shorten=function(a,c){if(!a)return"";if(!c||0==c)return a;var d=a.length;a=(a+" ").substr(0,c);c=a.lastIndexOf(" ");-1!=c&&(a=a.substr(0,c));d>a.length&&(a+="...");return a};ac.str.shorten_middle=function(a,c,d){a=this.cast(a);$textLen=a.length;if($textLen<c+d)return a;$front=a.substr(0,c);$back=a.substr($textLen-d,d);return $front+"..."+$back};
ac.str.shorten_long_words=function(a,c){"undefined"==typeof c&&(c=55);a=ac.str.cast(a);a=a.trim().split(" ");for(var d=0;d<a.length;d++)a[d].length>=c&&(a[d]=a[d].substring(0,c)+"...");return a.join(" ")};ac.str.valid_email=function(a){a=this.cast(a);return!!a.match(/^[\+_a-z0-9-'&=]+(\.[\+_a-z0-9-']+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,})$/i)};ac.str.valid_uuid=function(a){return/^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(a)};ac.str.email_anonymized=function(a){return a.match(/^(?:anonymized|deleted)\+\d+@example\.com$/)};
ac.str.is_url=function(a){a=this.cast(a);return!!a.match(/((http|https|ftp):\/\/|www)[a-z0-9\-\._]+\/?[a-z0-9_\.\-\?\+\/~=&#%;:\|,\[\]]*[a-z0-9\/=?&;%\[\]]{1}/i)};
ac.str.htmltext_text2link=function(a){var c=[],d=1,e=a.match(/<a\s(.[\s\S]?)<\/a>/ig);if(e&&0<e.length)for(var f in e)c[d]=f,a=a.replace(f,"{LINKNO_"+linkID+"]"),d++;a=strip_tags(a);d=a.match(/((http|https|ftp):\/\/|www)[a-z0-9\-\._]+\/?[a-z0-9_\.\-\?\+\/~=&@#%;:\|,\[\]]*[a-z0-9\/=?&@;%\[\]]{1}/ig);mathes=ac.array.unique(d);if(null!=d)for(e=0;e<d.length;e++)v=d[e],""!=v&&"href="!=v&&(v.match(/http/i)||v.match(/ftp/i))&&"#"!=v&&(a=a.replace(v,'<a href="'+v+'" target="_blank">'+v+"</a>"));if(0<c.length)for(var g in c)a=
a.replace("{LINKNO_"+g+"]",c[g]);return a};ac.str.capitalize=function(a){if(""==a)return a;a=a.match(/\w+/g);var c=[];if(null===a)return"";for(var d=0;d<a.length;d++){for(var e="",f=0;f<a[d].length;f++)0==f?(e=a[d].charCodeAt(0),e=97<=e&&122>=e?String.fromCharCode(e-32):String.fromCharCode(e)):e+=a[d][f];c.push(e)}return c.join(" ")};
ac.str.currency_round=function(a){a=(a+"").split(".");a[1]||(a[1]=0);var c=100*parseInt(a[0].replace(/[^\d]/g,""),10);a[1]&&(c+=parseInt(a[1].replace(/[^\d]/g,"").substr(0,2),10));return c};
ac.str.number_format=function(a,c,d,e){var f;c||(c=0);"undefined"==typeof d&&(d="undefined"==typeof decimalDelim?".":decimalDelim);"undefined"==typeof e&&(e="undefined"==typeof commaDelim?",":commaDelim);a=Math.round(a*Math.pow(10,c))/Math.pow(10,c);a=(a+"").split(".");a[0]||(a[0]="0");a[1]||(a[1]="");if(a[1].length<c){var g=a[1];for(i=a[1].length+1;i<=c;i++)g+="0";a[1]=g}sign="";"-"==a[0].charAt(0)&&(sign="-",a[0]=a[0].substr(1));if(""!=e&&3<a[0].length){g=a[0];a[0]="";for(f=3;f<g.length;f+=3)i=
g.slice(g.length-f,g.length-f+3),a[0]=e+i+a[0]+"";f=g.substr(0,0==g.length%3?3:g.length%3);a[0]=sign+f+a[0]}return a[0]+(0>=c?"":d)+a[1]};
function sprintf(){if(arguments&&!(1>arguments.length)&&RegExp){var a="",c=arguments[0],d=/([^%]*)%('.|0|\x20)?(-)?(\d+)?(\.\d+)?(%|b|c|d|u|f|o|s|x|X)(.*)/,e;b=[];for(var f=0,g=0;e=d.exec(c);){c=e[1];var h=e[2],l=e[4],k=e[5],m=e[6];e=e[7];g++;if("%"==m)k="%";else{f++;if(f>=arguments.length)return;var n=arguments[f];h&&"'"==h.substr(0,1)&&c.substr(1,1);l&&parseInt(l);h=-1;k&&"f"==m&&(h=parseInt(k.substring(1)));k=n;"b"==m?k=parseInt(n).toString(2):"c"==m?k=String.fromCharCode(parseInt(n)):"d"==m?k=
parseInt(n)?parseInt(n):0:"u"==m?k=Math.abs(n):"f"==m?k=-1<h?Math.round(parseFloat(n)*Math.pow(10,h))/Math.pow(10,h):parseFloat(n):"o"==m?k=parseInt(n).toString(8):"s"==m?k=n:"x"==m?k=(""+parseInt(n).toString(16)).toLowerCase():"X"==m&&(k=(""+parseInt(n).toString(16)).toUpperCase())}a=a+c+k;c=e}return a+c}}
ac.str.css_prepend=function(a,c){a=a.split("}");for(var d=0;d<a.length;d++){var e=a[d];if(ac.str.trim(e)){var f=e.split("{");if("@media"!=ac.str.trim(f[0]).toLowerCase().substr(0,6)){e=f[0].split(",");for(var g=0;g<e.length;g++){var h=e[g],l=ac.str.trim(h).toLowerCase().split(/\s+/),k=ac_array_indexof(l,"body");-1<k?(l[k]=c,h=l.join(" ")):h=c+" "+ac.str.trim(h);e[g]=h}e=e.join(", ");"undefined"!=typeof f[1]&&(e+=" {"+f[1]);a[d]=e}}}return $prefixedCss=a.join("}\n")};
ac.str.text2links=function(a,c){c||(c="");a=a.split(/\s+/);for(var d=0;d<a.length;d++){var e=a[d];ac_str_is_url(e)&&(a[d]='<a href="'+e+'" target="_blank"'+c+">"+e+"</a>")}return a.join(" ")};
ac.str.phone_number=function(a,c){c&&a.substr(0,c.length)==c&&(a=a.substr(c.length));if(10!=a.length||c&&"+1"!=c)if(10==a.length)$str=a.substr(0,3)+" "+a.substr(3,3)+"-"+a.substr(6);else{$start=0;for($str="";$start<a.length;)$str+=a.substr($start,3)+"-",$start+=3;$str=ac.str.rtrim($str,"-")}else $str="("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);return $str};
var _phone_formats={"+1":"1 (###) ###-####","+44":"0#### ######","+34":"### ### ###","+61":"0### ### ###","+381":"(0##) ### ####","+52":"### ### ####","+55":"(##) ####-####","+62":"(##) ###-####","+358":"(0) #### #####","+31":"0# - #### ####","+49":"0### #### ####"};
ac.str.phone_format=function(a){a+="";var c=_phone_formats,d=null,e=null,f=a;for(d in c)if(e=c[d],a.substr(0,d.length)==d){f=a.substr(d.length);break}if(f==a)if(10==a.length&&-1==a.indexOf("+"))e=c["+1"];else return a;f=f.replace(/[^0-9]/,"");c=f.length;d=e.length;var g=e.split("#").length-1;if(c<g)return a;a=0;g="";for(var h=0;h<d;h++){var l=e.substr(h,1);"#"==l&&(l=f.substr(a,1),a++);g+=l}a<c&&(g+="  "+f.substr(a));return g};
ac.str.time_24_12=function(a,c){a=parseInt(a,10);return(12<a?a-12:a%12?a:"12")+(c?" ":"")+(!a||12>a?"AM":"PM")};ac.style={};ac.style.add=function(a,c,d){$J(a).append(sprintf("%s {%s}\n",c,d))};ac.style.remove=function(a,c){a=$J(a);c=a.html().replace(new RegExp(c,"gm"),"").replace(/\n+/g,"\n");a.html(c)};ac.style._filter_default=function(a){return a};
ac.style.getSelector=function(a,c,d,e){var f=ac.str.trim($J(a).prop("class"));e=e||[];c=c||"";d=d||ac.style._filter_default;f&&(f=ac.array.filter(f.split(" "),d),0<f.length&&(f=ac.array.map(f,function(a){return"."+a}),e.push(f.join(""))));return!$J(a).is(c)&&0<$J(a).parent().length?ac.style.getSelector($J(a).parent(),c,d,e):e.reverse().join(" ")};ac.timer={};ac.timer.timeIds={};ac.timer.throttleFlags={};ac.wait=function(a){var c=null;if(!(2>arguments.length)){c="string"==typeof arguments[1]&&arguments[1];var d="function"==typeof arguments[1]?arguments[1]:arguments[2];c&&ac.stop(c);var e=window.setTimeout(function(){c&&delete ac.timer.timeIds[c];d()},1E3*a);c&&(ac.timer.timeIds[c]=e);return e}};ac.async=function(a){ac.wait(.1,a)};ac.activeTimer=function(a){return void 0!==ac.timer.timeIds[a]};
ac.stop=function(a,c){if("string"==typeof a){if(!ac.timer.timeIds[a])return;var d=a;a=ac.timer.timeIds[d];delete ac.timer.timeIds[d]}c?window.clearInterval(a):window.clearTimeout(a)};ac.interval=function(a){if(!(2>arguments.length)){var c="string"==typeof arguments[1]&&arguments[1];var d="function"==typeof arguments[1]?arguments[1]:arguments[2];c&&ac.stop(c,!0);d=window.setInterval(d,1E3*a);c&&(ac.timer.timeIds[c]=d);return d}};
ac.throttle=function(a,c,d){ac.timer.throttleFlags[c]?ac.wait(a,c,d):(d(),ac.wait(a,"ac-throttle-"+c,function(){ac.timer.throttleFlags[c]=!1}),ac.timer.throttleFlags[c]=!0)};(function(a){var c={};ac.tplExists=function(a){c[a]||(c[a]={})};ac.tplContent=function(a,e){ac.tplExists(a);c[a].html=ac.decodeBase64(e)};ac.tplDefine=function(a,e){ac.tplExists(a);c[a].func=e};ac.tplShow=function(){var a=arguments,e=a[0];ac.tplExists(e);return c[e].func?c[e].func.apply(this,a):""};ac.tplRender=function(a,e){ac.tplExists(a);return c[a].html?Mustache.render(c[a].html,e):""}})(jQuery);ac.track={};ac.track.eventList=[];ac.track._event_list_cached=!1;ac.track.eventCache=function(a){a=a||function(){};ac.track._event_list_cached?a():ac.get("/track/event",{},function(c){c.enabled&&(ac.track.eventList=c.events);ac.track._event_list_cached=!0;a()})};ac.before_unload_hooks=[];ac.before_unload=function(a){this.before_unload_hooks.push(a)};ac.before_unload_do=function(){for(var a="",c=0;c<ac.before_unload_hooks.length;c++){var d=ac.before_unload_hooks[c]();d&&(a=""==a?d:a+"; "+d)}if(""!=a)return a};ac.old_before_unload=window.onbeforeunload;window.onbeforeunload="function"!=typeof window.onbeforeunload?ac.before_unload_do:function(){ac.old_before_unload();ac.before_unload_do()};(function(a){var c={},d=null,e=!1,f=function(){};ac.wsGetToken=function(){if("undefined"!=typeof _ws_atoken)return _ws_atoken;ac.wsConnectInit();return d?d.connection.socket_id:""};ac.wsIsConnected=function(a){return c[a]};ac.wsSendToTopic=function(){};ac.wsConnectInit=function(){if(!d){try{d=new Pusher("423411065095ef77d2da",{encrypted:!0,authTransport:"jsonp",authEndpoint:plink+"/api/2/auth/pusher"})}catch(g){return!1}d.connection.bind("connected",function(){ac.apiSetToken(d.connection.socket_id);
e&&(e=!1,f&&f())});d.connection.bind("disconnected",function(){e=!0})}};ac.wsConnect=function(a,e){ac.wsConnectInit();d&&(c[a]?(e||function(){})():ac.wsSubscribe(a))};ac.wsSubscribe=function(a){d&&(c[a]=d.subscribe(a))};ac.wsUnsubscribe=function(a){d&&(d.unsubscribe(a),delete c[a])};ac.wsState=function(a,c){d&&("reconnected"==a?f=c:d.connection.bind(a,c))};ac.wsChannel=function(a,d,e){c[a]&&c[a].bind(d,e)}})(jQuery);ac.notify={};ac.notify.state=!0;ac.notify.notifies=[];ac.notify.force=!1;ac.notify.focused=!1;ac.notify.init=function(){$J(window).blur(function(){ac.notify.focused=!1});$J(window).focus(function(){ac.notify.focused=!0;for(var a=0;a<ac.notify.notifies.length;a++)ac.notify.notifies[a].close();ac.notify.notifies=[]})};
ac.notify.notify=function(a,c,d){if(!("Notification"in window))return console_log&&console_log("This browser does not support desktop notifications"),!1;if("granted"===Notification.permission)return ac.notify.create(a,c,d);if("denied"!==Notification.permission)return Notification.requestPermission(function(e){"permission"in Notification||(Notification.permission=e);"granted"===e?ac.notify.create(a,c,d):ac.notify.force&&ac.notify.prompt()}),null;ac.notify.force&&ac.notify.prompt();return!1};
ac.notify.create=function(a,c,d){d||(d={});d.onclick||(d.onclick=function(){window.focus()});d.autoclose||(d.autoclose=0);"undefined"==typeof d.blurredonly&&(d.blurredonly=!0);if(d.blurredonly&&ac.notify.focused||!ac.notify.state)return!1;var e=new Notification(a,c);e.onclick=d.onclick;if(d.autoclose){var f=null;f=setTimeout(function(){e.close()},1E3*d.autoclose);e.onmouseover=function(){clearTimeout(f);f=null};e.onmouseout=function(){f=setTimeout(function(){e.close()},1E3*d.autoclose)}}ac.notify.notifies.push(e);
return e};ac.notify.toggler=function(a){$J(a).click(function(a){$o=$J(this);a=$o.hasClass("on");ac.notify.state=!a;$o.toggleClass("on",ac.notify.state).toggleClass("off",!ac.notify.state).css("opacity",ac.notify.state?1:.6);return!1})};ac.notify.prompt=function(){$J("#notifyswitch").length||$J("body").prepend('<button id="notifyswitch" onclick="ac.notify.notify(\'Thank you for turning on desktop notifications!\');$J(this).remove();">Click me!</button>')};ac.contact={};
ac.contact.preview=function(a,c){if(!a.id)if(a.subscriberid)a.id=a.subscriberid;else return"";c=""+('<div class="contact_preview '+(c||"placement-right")+'" data-id="'+a.id+'">');c=c+'\t<div class="contact_preview_inner">\t\t<div class="contact_preview_top">'+('\t\t\t<span class="contact_avatar_row"><a href="'+plink+"/app/contacts/"+a.id+'"><img src="'+a.screenshot+'" border="0" /></a></span>');a.name&&a.name!=a.email&&(c=c+'\t\t\t<div class="contact_preview_name">'+ac.str.escape_html(a.name),c+=
"\t\t\t</div>");c=c+'\t\t\t<div class="contact_preview_email">'+a.email;c=c+'\t\t\t</div>\t\t\t<div class="contact_preview_geo">'+ac.str.escape_html(a.geo);c+='\t\t\t</div>\t\t\t<div class="contact_preview_tz">';a.tz_time&&(c+=sprintf(currentlyTZ,a.tz_time));c=c+'\t\t\t</div>\t\t\t<div class="contact_preview_lists">'+(1==a.listscnt?sprintf(subscribedToListsSG,"<strong>1</strong>"):sprintf(subscribedToListsPL,"<strong>"+a.listscnt+"</strong>"));c+='\t\t\t</div>\t\t</div>\t\t<div class="contact_preview_bottom">\t\t\t<div class="contact_preview_icons">';
a.plusfields&&(a.plusfields.memberships_facebook&&a.plusfields.memberships_facebook.val&&(c+='<a href="'+a.plusfields.memberships_facebook.val+'" target="_blank" title="'+strServiceFacebook+'"><img src="'+plink+'/admin/images/contact_view_facebook.png" /></a>'),a.plusfields.memberships_twitter&&a.plusfields.memberships_twitter.val&&(c+='<a href="'+a.plusfields.memberships_twitter.val+'" target="_blank" title="'+strServiceTwitter+'"><img src="'+plink+'/admin/images/contact_view_twitter.png" /></a>'),
a.plusfields.memberships_linkedin&&a.plusfields.memberships_linkedin.val&&(c+='<a href="'+a.plusfields.memberships_linkedin.val+'" target="_blank" title="'+strServiceLinkedIn+'"><img src="'+plink+'/admin/images/contact_view_linkedin.png" /></a>'),a.plusfields.memberships_myspace&&a.plusfields.memberships_myspace.val&&(c+='<a href="'+a.plusfields.memberships_myspace.val+'" target="_blank" title="'+strServiceMySpace+'"><img src="'+plink+'/admin/images/contact_view_myspace.png" /></a>'),a.plusfields.memberships_flickr&&
a.plusfields.memberships_flickr.val&&(c+='<a href="'+a.plusfields.memberships_flickr.val+'" target="_blank" title="'+strServiceFlickr+'"><img src="'+plink+'/admin/images/contact_view_flickr.png" /></a>'),a.plusfields.memberships_github&&a.plusfields.memberships_github.val&&(c+='<a href="'+a.plusfields.memberships_github.val+'" target="_blank" title="'+strServiceGitHub+'"><img src="'+plink+'/admin/images/contact_view_github.png" /></a>'),a.plusfields.memberships_picasa&&a.plusfields.memberships_picasa.val&&
(c+='<a href="'+a.plusfields.memberships_picasa.val+'" target="_blank" title="'+strServicePicasa+'"><img src="'+plink+'/admin/images/contact_view_picasa.png" /></a>'),a.plusfields.memberships_quora&&a.plusfields.memberships_quora.val&&(c+='<a href="'+a.plusfields.memberships_quora.val+'" target="_blank" title="'+strServiceQuora+'"><img src="'+plink+'/admin/images/contact_view_quora.png" /></a>'),a.plusfields.memberships_tumblr&&a.plusfields.memberships_tumblr.val&&(c+='<a href="'+a.plusfields.memberships_tumblr.val+
'" target="_blank" title="'+strServiceTumblr+'"><img src="'+plink+'/admin/images/contact_view_tumblr.png" /></a>'),a.plusfields.memberships_vimeo&&a.plusfields.memberships_vimeo.val&&(c+='<a href="'+a.plusfields.memberships_vimeo.val+'" target="_blank" title="'+strServiceVimeo+'"><img src="'+plink+'/admin/images/contact_view_vimeo.png" /></a>'),a.plusfields.memberships_yelp&&a.plusfields.memberships_yelp.val&&(c+='<a href="'+a.plusfields.memberships_yelp.val+'" target="_blank" title="'+strServiceYelp+
'"><img src="'+plink+'/admin/images/contact_view_yelp.png" /></a>'),a.plusfields.memberships_amazon&&a.plusfields.memberships_amazon.val&&(c+='<a href="'+a.plusfields.memberships_amazon.val+'" target="_blank" title="'+strServiceAmazon+'"><img src="'+plink+'/admin/images/contact_view_amazon.png" /></a>'),a.plusfields.memberships_etsy&&a.plusfields.memberships_etsy.val&&(c+='<a href="'+a.plusfields.memberships_etsy.val+'" target="_blank" title="'+strServiceEtsy+'"><img src="'+plink+'/admin/images/contact_view_etsy.png" /></a>'),
a.plusfields.memberships_foursquare&&a.plusfields.memberships_foursquare.val&&(c+='<a href="'+a.plusfields.memberships_foursquare.val+'" target="_blank" title="'+strServiceFoursquare+'"><img src="'+plink+'/admin/images/contact_view_foursquare.png" /></a>'),a.plusfields.memberships_google&&a.plusfields.memberships_google.val&&(c+='<a href="'+a.plusfields.memberships_google.val+'" target="_blank" title="'+strServiceGoogle+'"><img src="'+plink+'/admin/images/contact_view_google.png" /></a>'),a.plusfields.memberships_youtube&&
a.plusfields.memberships_youtube.val&&(c+='<a href="'+a.plusfields.memberships_youtube.val+'" target="_blank" title="'+strServiceYouTube+'"><img src="'+plink+'/admin/images/contact_view_youtube.png" /></a>'));c+='\t\t\t\t<a href="'+plink+"/app/contacts/"+a.id+'#email" title="'+strEmail+'"><img src="'+plink+'/admin/images/contact_view_email.png" /></a>';c+='\t\t\t\t<a href="'+plink+"/app/contacts/"+a.id+"?vcard=1"+(a.listid?"&listid="+a.listid:"")+'" title="'+strServicevCard+'"><img src="'+plink+'/admin/images/contact_view_vcard.png" /></a>';
c=c+'\t\t\t</div>\t\t\t<div class="contact_preview_view">'+('\t\t\t\t<a href="'+plink+"/app/contacts/"+a.id+'" class="greenbtn btn">'+jsOptionView+"</a>");return c+"\t\t\t</div>\t\t</div>\t</div></div>"};function validate_date(a,c){$J(a).removeClass("error");var d=$J(c).val(),e=validate_date_format($J(a).val());if(0!=e){for(var f=d=a="",g=0;g<e.format.length;g++)switch(e.format[g]){case "Y":a=g;break;case "m":d=g;break;case "d":f=g}e=e.date[a]+"-"+e.date[d]+"-"+e.date[f];$J(c).val(e)}else $J(a).addClass("error"),$J(c).val(d)}
function validate_date_format(a){var c=dateformat.split("%");if(1>=c.length)return!1;for(var d="-/\\.:,|;_ ".split(""),e=[],f=[],g=0;g<c.length;g++)if(n=c[g],""!=$J.trim(n)){for(var h=!1,l=0;l<d.length;l++){var k=d[l];k=n.split(k);if(1<k.length){for(var m=0;m<k.length;){e.push($J.trim(k[m]));f.push(d[l]);h=!0;break}break}}h||e.push($J.trim(k[0]))}l=[];for(g=0;g<e.length;g++)-1==$J.inArray(e[g],l)&&l.push(e[g]);e=l;if(3>e.length)return!1;c=[];h=[];for(g=0;g<d.length;g++)if(k=d[g],k=a.split(k),1<k.length)for(l=
0;l<k.length;l++){var n=$J.trim(k[l]);for(m=0;m<d.length;m++){var p=d[m],q=n.split(p);if(1<q.length)for(var r=0;r<q.length;r++){var t=$J.trim(q[r]);isNaN(t)||c.push(t);h[h.length-1]!=p&&h.push(p)}}c.push(n)}for(g=0;g<e.length;g++)switch(e[g]){case "d":if("undefined"!=typeof c[g]&&2!=c[g].length)return!1;break;case "Y":if("undefined"!=typeof c[g]&&4!=c[g].length)return!1}if(0<h.length)for(g=0;g<f.length;g++)if(h[g]!=f[g])return!1;if(3>c.length)return!1;a={};a.format=e;a.date=c;return a};
